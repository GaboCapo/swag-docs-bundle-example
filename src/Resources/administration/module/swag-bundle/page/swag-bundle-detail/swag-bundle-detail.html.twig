<sw-page class="swag-bundle-detail">
    <template slot="smart-bar-actions">
        <sw-button :routerLink="{ name: 'swag.bundle.list' }">Cancel</sw-button>

        <sw-button-process
            :isLoading="isLoading"
            :processSuccess="isSaveSuccessful"
            variant="primary"
            @process-finish="saveFinish"
            @click.prevent="onClickSave">
                Save
        </sw-button-process>
    </template>

    <template slot="content">
        <sw-card-view>
            <sw-card v-if="bundle" title="General" :isLoading="isLoading">
                <sw-field label="Name" v-model="bundle.name" validation="required"></sw-field>
                <sw-field label="Discount" v-model="bundle.discount" type="number" validation="required"></sw-field>

                <sw-field
                    type="radio"
                    label="Discount type"
                    v-model="bundle.discountType"
                    validation="required"
                    :options="[
                      {'value': 'absolute', 'name': 'Absolute'},
                      {'value': 'percentage', 'name': 'Percentage'},
                    ]">
                </sw-field>

                <sw-many-to-many-select
                    :localMode="bundle.isNew()"
                    label="Assign products"
                    :collection="bundle.products">
                </sw-many-to-many-select>
            </sw-card>
        </sw-card-view>
    </template>
</sw-page>
